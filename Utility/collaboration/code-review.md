# Code Review Guide

## 코드 리뷰의 목적

> 코드 품질 향상 + 지식 공유 + 버그 사전 발견

**좋은 코드 리뷰의 효과**

- 버그 조기 발견
- 코드 품질 향상
- 팀 전체 지식 수준 상승
- 코드베이스 일관성 유지

---

## 리뷰어 가이드

### 리뷰 관점

| 관점           | 확인 사항            |
| -------------- | -------------------- |
| **정확성**     | 의도대로 동작하는가? |
| **설계**       | 구조가 적절한가?     |
| **가독성**     | 이해하기 쉬운가?     |
| **유지보수성** | 변경하기 쉬운가?     |
| **성능**       | 성능 문제 없는가?    |
| **보안**       | 취약점 없는가?       |
| **테스트**     | 테스트 충분한가?     |

### 좋은 코멘트 작성법

```
# ✅ 좋은 코멘트
"이 로직은 O(n²)인데, Map을 사용하면 O(n)으로 개선할 수 있을 것 같아요."
"null 체크가 없어서 이 경우에 에러가 날 수 있어요. Optional 처리는 어떨까요?"

# ❌ 나쁜 코멘트
"이거 이상해요"
"왜 이렇게 했어요?"
"잘못됐습니다"
```

### 코멘트 접두사 (선택)

```
[필수] 반드시 수정이 필요합니다.
[제안] 개선 제안입니다. 반영 여부는 자유입니다.
[질문] 이해가 안 되어 질문합니다.
[칭찬] 좋은 부분입니다!
[논의] 논의가 필요합니다.
```

### 리뷰 우선순위

```
1. 버그 / 보안 이슈     → 반드시 수정
2. 설계 / 아키텍처      → 중요, 논의 필요
3. 성능 문제            → 중요도에 따라
4. 가독성 / 네이밍      → 가능하면 개선
5. 스타일 / Nitpick     → 선택적
```

---

## 작성자 가이드

### PR 작성 시

```markdown
## 개요

- 이 PR의 목적과 배경

## 변경 사항

- 주요 변경 내용 (bullet point)

## 테스트

- 테스트 방법 또는 결과

## 스크린샷 (UI 변경 시)

## 체크리스트

- [ ] 테스트 추가/수정
- [ ] 문서 업데이트
- [ ] Breaking change 없음
```

### PR 크기

```
# 권장 크기
- 파일: 10개 이하
- 변경 줄: 400줄 이하
- 리뷰 시간: 30분 이내

# 큰 PR 쪼개기
기능 A + 기능 B + 리팩토링
→ PR 1: 리팩토링
→ PR 2: 기능 A
→ PR 3: 기능 B
```

### Self-Review

```
PR 생성 전 본인이 먼저 확인:
- [ ] 불필요한 console.log / 디버그 코드 제거
- [ ] 하드코딩된 값 없는지
- [ ] 주석 정리
- [ ] 테스트 통과
- [ ] 린트 에러 없음
```

---

## 리뷰 체크리스트

### 기능

- [ ] 요구사항대로 동작하는가?
- [ ] 엣지 케이스 처리했는가?
- [ ] 에러 처리가 적절한가?

### 설계

- [ ] 단일 책임 원칙을 따르는가?
- [ ] 중복 코드는 없는가?
- [ ] 의존성이 적절한가?
- [ ] 확장하기 쉬운 구조인가?

### 가독성

- [ ] 변수/함수명이 명확한가?
- [ ] 복잡한 로직에 주석이 있는가?
- [ ] 함수 길이가 적절한가?
- [ ] 중첩이 깊지 않은가?

### 성능

- [ ] 불필요한 연산은 없는가?
- [ ] N+1 쿼리 문제는 없는가?
- [ ] 메모리 누수 가능성은 없는가?
- [ ] 적절한 자료구조를 사용했는가?

### 보안

- [ ] SQL Injection 방지했는가?
- [ ] XSS 방지했는가?
- [ ] 민감정보 노출은 없는가?
- [ ] 인증/인가 체크했는가?

### 테스트

- [ ] 테스트가 추가되었는가?
- [ ] 핵심 로직이 테스트되었는가?
- [ ] 테스트가 의미있는가?

---

## 피드백 받을 때

### Do's

```
✅ 피드백을 개인 공격으로 받아들이지 않기
✅ 왜 그렇게 했는지 설명하기
✅ 동의하면 빠르게 반영
✅ 동의하지 않으면 근거와 함께 논의
✅ 배움의 기회로 생각하기
```

### Don'ts

```
❌ 방어적으로 반응하기
❌ 코멘트 무시하기
❌ "동작하는데 왜요?" 라고 하기
❌ 감정적으로 대응하기
```

---

## 리뷰 문화

### 좋은 문화

```
- "코드"를 리뷰하지 "사람"을 리뷰하지 않는다
- 질문을 환영한다
- 칭찬을 아끼지 않는다
- 작은 PR을 권장한다
- 빠른 리뷰를 지향한다 (24시간 내)
```

### 리뷰 시간 관리

```
# 리뷰어
- 알림 확인: 오전/오후 정해진 시간
- 리뷰 소요: PR당 15~30분 목표
- 응답: 24시간 내

# 작성자
- 리뷰 요청 전 self-review
- 피드백 반영: 빠르게
- 논의 필요 시: 대면/화상 미팅
```

---

## 🎯 상황별 리뷰 체크리스트

### 새로운 기능

- [ ] 요구사항 충족
- [ ] API 설계 적절
- [ ] 테스트 커버리지
- [ ] 문서 업데이트

### 버그 수정

- [ ] 근본 원인 해결
- [ ] 사이드 이펙트 없음
- [ ] 재현 테스트 추가
- [ ] 같은 패턴 다른 곳에 없는지

### 리팩토링

- [ ] 기능 변경 없음
- [ ] 테스트 유지/개선
- [ ] 점진적 변경
- [ ] 성능 저하 없음

### 성능 개선

- [ ] 벤치마크 결과 첨부
- [ ] 가독성 희생 최소화
- [ ] 사이드 이펙트 없음

---

## 리뷰 도구 활용

### GitHub PR 코멘트

````
# 특정 줄에 코멘트
코드 변경 보기 → 줄 번호 클릭 → 코멘트 작성

# Suggestion (수정 제안)
```suggestion
const result = items.filter(item => item.active);
````

# 여러 줄 선택

줄 번호 드래그 선택 → 코멘트

```

### 리뷰 상태

```

Comment: 단순 피드백 (승인 없음)
Approve: 승인 (머지 가능)
Request Changes: 수정 요청 (머지 차단)

```

---

## 요약

```

좋은 코드 리뷰 =
건설적인 피드백 +
빠른 응답 +
상호 존중 +
지식 공유

```

```
